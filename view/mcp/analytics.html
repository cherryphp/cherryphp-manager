<h1 class="page-header">统计信息</h1>
<div class="table-responsive" style="width:92%;">
	<p>
		<!--<button class="btn btn-sm btn-default hide" type="button">Default</button>-->
		<!--<button class="btn btn-sm btn-primary" type="button" id="B_add">添加</button>-->
		<!--<button class="btn btn-sm btn-success hide" type="button">Success</button>-->
		<!--<button class="btn btn-sm btn-info" type="button" id="B_chpass">修改密码</button>-->
		<!--<button class="btn btn-sm btn-warning" type="button" id="B_update">修改</button>-->
		<!--<button class="btn btn-sm btn-danger" type="button" id="B_del">删除</button>-->
		<!--<button class="btn btn-sm btn-link hide" type="button">Link</button>-->
    </p>
	<div id="user" style="min-width: 410px; height: 400px; margin: 0 auto"></div>
    <div id="createitem" style="min-width: 410px; height: 1200px; margin: 0 auto"></div>
    <div id="pvp" style="min-width: 410px; height: 400px; margin: 0 auto"></div>
    <div id="herousetime" style="min-width: 410px; height: 1200px; margin: 0 auto"></div>
    <div id="herostrlv" style="min-width: 410px; height: 2000px; margin: 0 auto"></div>
    <div id="plot" style="min-width: 410px; height: 1200px; margin: 0 auto"></div>
    <div id="newbie" style="min-width: 410px; height: 400px; margin: 0 auto"></div>
    <div id="lineup" style="min-width: 410px; height: 1000px; margin: 0 auto"></div>
    <div id="epic" style="min-width: 410px; height: 400px; margin: 0 auto"></div>
</div>

<!--<nav class="text-left">
	<ul class="pagination" id="pageui">
		<li class="page-number disabled"><a href="javascript:void(0)"><<</a></li>
		<li class="page-number disabled" ><a href="javascript:void(0)"><</a></li>
		<li class="page-number active"><a href="javascript:void(0)">1</a></li>
		<li class="page-number"><a href="javascript:void(0)">2</a></li>
		<li class="page-number"><a href="javascript:void(0)">3</a></li>
		<li class="page-number"><a href="javascript:void(0)">4</a></li>
		<li class="page-number"><a href="javascript:void(0)">5</a></li>
		<li class="page-number"><a href="javascript:void(0)">></a></li>
		<li class="page-number"><a href="javascript:void(0)">>></a></li>
	</ul>
</nav>-->
<!-- Modal-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel"></h4>
			</div>
			<div class="modal-body" id="myModalBody">
				11111
			</div>
			<div class="modal-footer">
				<button type="button" id="cancel" class="btn btn-default" data-dismiss="modal">Close</button>
				<button type="button" id="do" class="btn btn-primary">Save</button>
			</div>
		</div>
	</div>
</div>

			

<script type="text/javascript">
$(function () {
    function checkdata(data)
    {
        if (typeof(data)=="undefined"){
            return 0;
        }else{
            return data;
        }
    }
    $.ajax({
		type: "POST",
		url: "/analytics/gettoday",
		data: {date:"20151104"},
		dataType: "json",
		success: function(data){
            var json=eval(data);
            $('#user').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: '用户角色'
                },
                xAxis: {
                    categories: ['创建角色数量', '访问用户数量']
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                tooltip: {
                    pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
                    shared: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                series: [{
                    name: '今日增量',
                    data: [{y:parseInt(json.user.CreateCharacter.today),url:"javascript:main('/analytics/details/k/user/v/CreateCharacter')"}, {y:parseInt(json.user.UserCount.today),url:"javascript:main('/analytics/details/k/user/v/UserCount')"}],
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'center',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: [{y:parseInt(json.user.CreateCharacter.total)-parseInt(json.user.CreateCharacter.today), url:"javascript:main('/analytics/details/k/user/v/CreateCharacter')"},{y:parseInt(json.user.UserCount.total)-parseInt(json.user.UserCount.today),url:"javascript:main('/analytics/details/k/user/v/UserCount')"}],
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'center',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
                
            });
          
            
            var CreateItem_kv={"CreateItem1000019":"圣骑士", "CreateItem1000020":"圣枪", "CreateItem1000021":"大法师", "CreateItem1000022":"剑圣", "CreateItem1000023":"先知", "CreateItem1000024":"巫医", "CreateItem1000025":"游侠", "CreateItem1000026":"德鲁伊", "CreateItem1000027":"丛林刺客", "CreateItem1000028":"死亡骑士", "CreateItem1000029":"巫妖", "CreateItem1000030":"僵尸王", "CreateItem1000031":"狂战士", "CreateItem1000032":"炼金术士", "CreateItem1000033":"酒鬼", "CreateItem1000034":"冒险家", "CreateItem1000035":"魔偶师", "CreateItem1000036":"吟游诗人", "CreateItem1000037":"经验双倍卡", "CreateItem1000038":"熟练双倍卡", "CreateItem1000039":"金币双倍卡", "CreateItem1000040":"30天VIP卡", "CreateItem1000041":"360天VIP卡", "CreateItem1000042":"英雄双倍经验卡一场", "CreateItem1000043":"英雄双倍经验卡五场", "CreateItem1000044":"英雄双倍经验卡十场", "CreateItem1000045":"金币包", "CreateItem1000046":"火焰领主", "CreateItem1000047":"寒冰领主", "CreateItem1000048":"雷霆领主", "CreateItem1000049":"血腥女王", "CreateItem1000050":"商业大亨", "CreateItem1000051":"工程大师", "CreateItem1000052":"恶灵大帝", "CreateItem1000053":"赌神", "CreateItem1000054":"锻造大师", "CreateItem1000055":"周免随机"};
            var CreateItem_total = [];
            var CreateItem_today = [];
            var CreateItem_key = [];
            
            for(v in CreateItem_kv)
            {
                var objc=new Object();
                if (typeof(json.createitem[v])!=="undefined"){
                    var ctotal=parseInt(json.createitem[v].total)-parseInt(json.createitem[v].today);
                    
                }else{
                    var ctotal=0;
                }
                objc.y=ctotal;
                objc.url="javascript:main('/analytics/details/k/createitem/v/"+v+"')";
                CreateItem_total.push(objc);
                var objc2=new Object();
                if (typeof(json.createitem[v])!=="undefined"){
                    var cday=parseInt(json.createitem[v].today);
                }else{
                    var cday=0;
                }
                objc2.y=cday;
                objc2.url="javascript:main('/analytics/details/k/createitem/v/"+v+"')";
                CreateItem_today.push(objc2);
                CreateItem_key.push(CreateItem_kv[v]);
            }
            
            $('#createitem').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '物品道具'
                },
                xAxis: {
                    categories: CreateItem_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: CreateItem_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: CreateItem_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            
            var pvp_kv={"PVE3Player":"3玩家对战3AI战斗场数", "PVPNormal":"普通pvp战斗场数", "PVPSingleLadder":"单人天梯战斗场数", "PVPTeamLadder":"组队天梯战斗场数", "PVPGold":"金币场战斗场数"};
            var pvp_total = [];
            var pvp_today = [];
            var pvp_key = [];
            
            for(v in pvp_kv)
            {
                var objc=new Object();
                if (typeof(json.pvp[v])!=="undefined"){
                    var ctotal=parseInt(json.pvp[v].total)-parseInt(json.pvp[v].today);
                    
                }else{
                    var ctotal=0;
                }
                objc.y=ctotal;
                objc.url="javascript:main('/analytics/details/k/pvp/v/"+v+"')";
                pvp_total.push(objc);
                var objc2=new Object();
                if (typeof(json.pvp[v])!=="undefined"){
                    var cday=parseInt(json.pvp[v].today);
                }else{
                    var cday=0;
                }
                objc2.y=cday;
                objc2.url="javascript:main('/analytics/details/k/pvp/v/"+v+"')";
                pvp_today.push(objc2);
                pvp_key.push(pvp_kv[v]);
            }
            $('#pvp').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '战斗统计'
                },
                xAxis: {
                    categories: pvp_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: pvp_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: pvp_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            
            
              
            var herousetime_kv={"Hero5UseTimesByPlayerInPVP":"圣骑士", "Hero10UseTimesByPlayerInPVP":"圣枪", "Hero15UseTimesByPlayerInPVP":"大法师", "Hero20UseTimesByPlayerInPVP":"剑圣", "Hero25UseTimesByPlayerInPVP":"先知", "Hero30UseTimesByPlayerInPVP":"巫医", "Hero35UseTimesByPlayerInPVP":"游侠", "Hero40UseTimesByPlayerInPVP":"德鲁伊", "Hero45UseTimesByPlayerInPVP":"丛林刺客", "Hero50UseTimesByPlayerInPVP":"死亡骑士", "Hero55UseTimesByPlayerInPVP":"巫妖", "Hero60UseTimesByPlayerInPVP":"僵尸王", "Hero65UseTimesByPlayerInPVP":"狂战士", "Hero70UseTimesByPlayerInPVP":"炼金术士", "Hero75UseTimesByPlayerInPVP":"酒鬼", "Hero80UseTimesByPlayerInPVP":"冒险家", "Hero85UseTimesByPlayerInPVP":"魔偶师", "Hero90UseTimesByPlayerInPVP":"吟游诗人", "Hero113UseTimesByPlayerInPVP":"商业大亨", "Hero118UseTimesByPlayerInPVP":"工程大师", "Hero123UseTimesByPlayerInPVP":"火焰领主", "Hero128UseTimesByPlayerInPVP":"寒冰领主", "Hero133UseTimesByPlayerInPVP":"雷霆领主", "Hero138UseTimesByPlayerInPVP":"恶灵大帝", "Hero143UseTimesByPlayerInPVP":"血腥女王", "Hero176UseTimesByPlayerInPVP":"赌神", "Hero181UseTimesByPlayerInPVP":"锻造大师"};
            var herousetime_total = [];
            var herousetime_today = [];
            var herousetime_key = [];
            
            for(v in herousetime_kv)
            {
                var objc=new Object();
                if (typeof(json.herousetime[v])!=="undefined"){
                    var ctotal=parseInt(json.herousetime[v].total)-parseInt(json.herousetime[v].today);
                    
                }else{
                    var ctotal=0;
                }
                objc.y=ctotal;
                objc.url="javascript:main('/analytics/details/k/herousetime/v/"+v+"')";
                herousetime_total.push(objc);
                var objc2=new Object();
                if (typeof(json.herousetime[v])!=="undefined"){
                    var cday=parseInt(json.herousetime[v].today);
                }else{
                    var cday=0;
                }
                objc2.y=cday;
                objc2.url="javascript:main('/analytics/details/k/herousetime/v/"+v+"')";
                herousetime_today.push(objc2);
                herousetime_key.push(herousetime_kv[v]);
            }
            $('#herousetime').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '英雄使用'
                },
                xAxis: {
                    categories: herousetime_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: herousetime_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: herousetime_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            var herostrlv_kv={"hero5_strengthLv":"圣骑士", "hero10_strengthLv":"圣枪", "hero15_strengthLv":"大法师", "hero20_strengthLv":"剑圣", "hero25_strengthLv":"先知", "hero30_strengthLv":"巫医", "hero35_strengthLv":"游侠", "hero40_strengthLv":"德鲁伊", "hero45_strengthLv":"丛林刺客", "hero50_strengthLv":"死亡骑士", "hero55_strengthLv":"巫妖", "hero60_strengthLv":"僵尸王", "hero65_strengthLv":"狂战士", "hero70_strengthLv":"炼金术士", "hero75_strengthLv":"酒鬼", "hero80_strengthLv":"冒险家", "hero85_strengthLv":"魔偶师", "hero90_strengthLv":"吟游诗人", "hero113_strengthLv":"商业大亨", "hero118_strengthLv":"工程大师", "hero123_strengthLv":"火焰领主", "hero128_strengthLv":"寒冰领主", "hero133_strengthLv":"雷霆领主", "hero138_strengthLv":"恶灵大帝", "hero143_strengthLv":"血腥女王", "hero176_strengthLv":"赌神", "hero181_strengthLv":"锻造大师"};
            var herostrlv_total = [];
            var herostrlv_today = [];
            var herostrlv_key = [];
            
            for(v in herostrlv_kv)
            {
                for(var i=1;i<=3;i++){
                    var objc=new Object();
                    if (typeof(json.herostrlv[v])!=="undefined"){
                        var herostrlv_tk="strengthLv"+i+"_total";
                        var herostrlv_k="strengthLv"+i;
                        var ctotal=parseInt(json.herostrlv[v].herostrlv_tk)-parseInt(json.herostrlv[v].herostrlv_k);
                        
                    }else{
                        var ctotal=0;
                    }
                    objc.y=ctotal;
                    objc.url="javascript:main('/analytics/details/k/herostrlv/v/"+v+"/s/strengthLv"+i+"')";
                    herostrlv_total.push(objc);
                    var objc2=new Object();
                    if (typeof(json.herostrlv[v])!=="undefined"){
                        var herostrlv_k="strengthLv"+i;
                        var cday=parseInt(json.herostrlv[v].herostrlv_k);
                    }else{
                        var cday=0;
                    }
                    objc2.y=cday;
                    objc2.url="javascript:main('/analytics/details/k/herostrlv/v/"+v+"/s/strengthLv"+i+"')";
                    herostrlv_today.push(objc2);
                    herostrlv_key.push(herostrlv_kv[v]+"强化等级"+i);
                }
            }
            $('#herostrlv').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '英雄强化'
                },
                xAxis: {
                    categories: herostrlv_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: herostrlv_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: herostrlv_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            var plot_kv={"Plot_Race1":"人族", "Plot_Race2":"兽人", "Plot_Race3":"精灵", "Plot_Race4":"亡灵", "Plot_Race5":"矮人", "Plot_Race6":"侏儒", "Plot_Race7":"元素", "Plot_Race8":"地精", "Plot_Race9":"血羽", "Plot_Race10":"恶魔", "Plot_Race11":"鱼人", "Plot_Race12":"虚灵", "Plot_Race13":"熊猫", "Plot_Race14":"沙灵", "Plot_Race15":"机械"};
            var plot_total = [];
            var plot_today = [];
            var plot_key = [];
            
            for(v in plot_kv)
            {
                for(var i=0;i<3;i++){
                    var objc=new Object();
                    if (typeof(json.plot[v])!=="undefined"){
                        var plot_tk="branch"+i+"_total";
                        var plot_k="branch"+i;
                        var ctotal=parseInt(json.plot[v].plot_tk)-parseInt(json.plot[v].plot_k);
                        
                    }else{
                        var ctotal=0;
                    }
                    objc.y=ctotal;
                    objc.url="javascript:main('/analytics/details/k/plot/v/"+v+"/s/branch"+i+"')";
                    plot_total.push(objc);
                    var objc2=new Object();
                    if (typeof(json.plot[v])!=="undefined"){
                        var plot_k="branch"+i;
                        var cday=parseInt(json.plot[v].plot_k);
                    }else{
                        var cday=0;
                    }
                    objc2.y=cday;
                    objc2.url="javascript:main('/analytics/details/k/plot/v/"+v+"/s/branch"+i+"')";
                    plot_today.push(objc2);
                    if(i==0){
                        plot_key.push(plot_kv[v]+"主线剧情"+i);
                    }else{
                        plot_key.push(plot_kv[v]+"支线剧情"+i);
                    }
                }
            }
            $('#plot').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '剧情通关'
                },
                xAxis: {
                    categories: plot_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: plot_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: plot_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            
            var newbie_kv={"NewbieBattle1":"新手第一战通过人数", "NewbieBattle2":"新手第二战通过人数", "NewbieBattle3":"新手第三战通过人数", "NewbieStep2":"新手战斗胜利过度界面人数", "NewbieStep3":"新手阵容指引人数", "NewbieStep4":"新手练习赛指引人数", "NewbieStep6":"新手神术学习指引人数", "NewbieStep7":"通过新手的人数"};
            var newbie_total = [];
            var newbie_today = [];
            var newbie_key = [];
            
            for(v in newbie_kv)
            {
                var objc=new Object();
                if (typeof(json.newbie[v])!=="undefined"){
                    var ctotal=parseInt(json.newbie[v].total)-parseInt(json.newbie[v].today);
                    
                }else{
                    var ctotal=0;
                }
                objc.y=ctotal;
                objc.url="javascript:main('/analytics/details/k/newbie/v/"+v+"')";
                newbie_total.push(objc);
                var objc2=new Object();
                if (typeof(json.newbie[v])!=="undefined"){
                    var cday=parseInt(json.newbie[v].today);
                }else{
                    var cday=0;
                }
                objc2.y=cday;
                objc2.url="javascript:main('/analytics/details/k/newbie/v/"+v+"')";
                newbie_today.push(objc2);
                newbie_key.push(newbie_kv[v]);
            }
            $('#newbie').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '新手教程'
                },
                xAxis: {
                    categories: newbie_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: newbie_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: newbie_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            
            
            var lineup_kv={"Lineup0UseTimes":"第一套阵容使用次数", "Lineup1UseTimes":"第二套阵容使用次数", "Lineup2UseTimes":"第三套阵容使用次数", "Lineup3UseTimes":"第四套阵容使用次数", "Lineupsize7":"购买第7阵容格", "Lineupsize8":"购买第8阵容格", "Lineupsize9":"购买第9阵容格", "Lineupsize10":"购买第10阵容格", "Lineupsize11":"购买第11阵容格", "Lineupsize12":"购买第12阵容格", "Lineupsize13":"购买第13阵容格", "Lineupsize14":"购买第14阵容格", "Lineupsize15":"购买第15阵容格", "Lineupsize16":"购买第16阵容格", "Lineupsize17":"购买第17阵容格", "Lineupsize18":"购买第18阵容格", "Lineupsize19":"购买第19阵容格", "Lineupsize20":"购买第20阵容格", "Lineupsize21":"购买第21阵容格", "Lineupsize22":"购买第22阵容格", "Lineupsize23":"购买第23阵容格", "Lineupsize24":"购买第24阵容格", "Lineupsize25":"购买第25阵容格", "Lineupsize26":"购买第26阵容格"};
            var lineup_total = [];
            var lineup_today = [];
            var lineup_key = [];
            
            for(v in lineup_kv)
            {
                var objc=new Object();
                if (typeof(json.lineup[v])!=="undefined"){
                    var ctotal=parseInt(json.lineup[v].total)-parseInt(json.lineup[v].today);
                    
                }else{
                    var ctotal=0;
                }
                objc.y=ctotal;
                objc.url="javascript:main('/analytics/details/k/lineup/v/"+v+"')";
                lineup_total.push(objc);
                var objc2=new Object();
                if (typeof(json.lineup[v])!=="undefined"){
                    var cday=parseInt(json.lineup[v].today);
                }else{
                    var cday=0;
                }
                objc2.y=cday;
                objc2.url="javascript:main('/analytics/details/k/lineup/v/"+v+"')";
                lineup_today.push(objc2);
                lineup_key.push(lineup_kv[v]);
            }
            $('#lineup').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '阵容购买及使用'
                },
                xAxis: {
                    categories: lineup_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: lineup_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: lineup_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            var epic_kv={"Epic1":"史诗1通关人数", "Epic2":"史诗2通关人数", "Epic3":"史诗3通关人数", "Epic4":"史诗4通关人数", "Epic5":"史诗5通关人数"};
            var epic_total = [];
            var epic_today = [];
            var epic_key = [];
            
            for(v in epic_kv)
            {
                var objc=new Object();
                if (typeof(json.epic[v])!=="undefined"){
                    var ctotal=parseInt(json.epic[v].total)-parseInt(json.epic[v].today);
                    
                }else{
                    var ctotal=0;
                }
                objc.y=ctotal;
                objc.url="javascript:main('/analytics/details/k/epic/v/"+v+"')";
                epic_total.push(objc);
                var objc2=new Object();
                if (typeof(json.epic[v])!=="undefined"){
                    var cday=parseInt(json.epic[v].today);
                }else{
                    var cday=0;
                }
                objc2.y=cday;
                objc2.url="javascript:main('/analytics/details/k/epic/v/"+v+"')";
                epic_today.push(objc2);
                epic_key.push(epic_kv[v]);
            }
            $('#epic').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: '史诗通关'
                },
                xAxis: {
                    categories: epic_key
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '前天总量/当天增量'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        cursor: 'pointer',
                        events: {
                            click: function(e) {
                                location.href = e.point.url;
                                    //上面是当前页跳转，如果是要跳出新页面，那就用
                                    //window.open(e.point.url);
                                    //这里的url要后面的data里给出
                            }
                        }
                    }
                },
                tooltip: {
                    pointFormat: '<b>{series.name},{point.y:.1f}</b>'
                },
                series: [{
                    name: '今日增量',
                    data: epic_today,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }, {
                    name: '前日总量',
                    data: epic_total,
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'right',
                        format: '{point.y:.1f}', // one decimal
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '13px',
                            fontFamily: 'Verdana, sans-serif'
                        }
                    }
                }],
            });
            
            
            
        }
	});
});
</script>